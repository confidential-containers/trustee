[http_server]
sockets = ["127.0.0.1:8080"]
private_key = "./work/https.key"
certificate = "./work/https.crt"
insecure_http = false

[attestation_token]
trusted_certs_paths = ["./work/ca-cert.pem"]

[attestation_service]
type = "coco_as_builtin"
work_dir = "./work/attestation-service"

[attestation_service.attestation_token_broker]
duration_min = 5

[attestation_service.attestation_token_broker.signer]
key_path = "./work/token.key"
cert_path = "./work/token-cert-chain.pem"

[attestation_service.attestation_token_broker.policy_engine.storage]
type = "Memory"

[attestation_service.rvps_config]
type = "BuiltIn"

[attestation_service.rvps_config.storage]
type = "Memory"

[attestation_service.verifier_config.tpm_verifier]
trusted_ak_keys_dir = "./work/attestation-service/tpm_trusted_keys"
max_trusted_ak_keys = 100

[policy_engine.storage]
type = "Memory"

[admin]
type = "Simple"

[[admin.personas]]
id = "admin"
public_key_path = "./work/kbs.pem"

[[plugins]]
name = "resource"
backend = "kvstorage"
type = "Memory"
